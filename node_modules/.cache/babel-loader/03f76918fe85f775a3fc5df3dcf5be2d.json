{"remainingRequest":"/Users/sagintayevv/Desktop/My Course/vue-git/medium-clone/node_modules/babel-loader/lib/index.js!/Users/sagintayevv/Desktop/My Course/vue-git/medium-clone/src/store/modules/auth.js","dependencies":[{"path":"/Users/sagintayevv/Desktop/My Course/vue-git/medium-clone/src/store/modules/auth.js","mtime":1670226914104},{"path":"/Users/sagintayevv/Desktop/My Course/vue-git/medium-clone/node_modules/cache-loader/dist/cjs.js","mtime":1670213592618},{"path":"/Users/sagintayevv/Desktop/My Course/vue-git/medium-clone/node_modules/babel-loader/lib/index.js","mtime":1670213592708}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBhdXRoQXBpIGZyb20gJ0AvYXBpL2F1dGgnOwp2YXIgc3RhdGUgPSB7CiAgaXNTdWJtaXR0aW5nOiBmYWxzZSwKICBpc0xvYWRpbmc6IGZhbHNlLAogIGN1cnJlbnRVc2VyOiBudWxsLAogIHZhbGlkYXRpb25FcnJvcnM6IG51bGwsCiAgaXNMb2dnZWRJbjogbnVsbAp9Owp2YXIgZ2V0dGVycyA9IHsKICBjdXJyZW50VXNlcjogZnVuY3Rpb24gY3VycmVudFVzZXIoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5jdXJyZW50VXNlcjsKICB9LAogIGlzTG9nZ2VkSW46IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oc3RhdGUpIHsKICAgIHJldHVybiBCb29sZWFuKHN0YXRlLmlzTG9nZ2VkSW4pOwogIH0sCiAgaXNBbm9ueW11czogZnVuY3Rpb24gaXNBbm9ueW11cyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmlzTG9nZ2VkSW4gPT0gZmFsc2U7CiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIHJlZ2lzdGVyU3RhcnQ6IGZ1bmN0aW9uIHJlZ2lzdGVyU3RhcnQoc3RhdGUpIHsKICAgIHN0YXRlLmlzU3VibWl0dGluZyA9IHRydWU7CiAgICBzdGF0ZS52YWxpZGF0aW9uRXJyb3JzID0gbnVsbDsKICB9LAogIHJlZ2lzdGVyU3VjY2VzczogZnVuY3Rpb24gcmVnaXN0ZXJTdWNjZXNzKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5pc1N1Ym1pdHRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLmN1cnJlbnRVc2VyID0gcGF5bG9hZDsKICB9LAogIHJlZ2lzdGVyRmFpbHVyZTogZnVuY3Rpb24gcmVnaXN0ZXJGYWlsdXJlKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5pc1N1Ym1pdHRpbmcgPSBmYWxzZTsKICAgIHN0YXRlLnZhbGlkYXRpb25FcnJvcnMgPSBwYXlsb2FkOwogIH0sCiAgbG9naW5TdGFydDogZnVuY3Rpb24gbG9naW5TdGFydChzdGF0ZSkgewogICAgc3RhdGUuaXNTdWJtaXR0aW5nID0gdHJ1ZTsKICAgIHN0YXRlLnZhbGlkYXRpb25FcnJvcnMgPSBudWxsOwogIH0sCiAgbG9naW5TdWNjZXNzOiBmdW5jdGlvbiBsb2dpblN1Y2Nlc3Moc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLmlzU3VibWl0dGluZyA9IGZhbHNlOwogICAgc3RhdGUuY3VycmVudFVzZXIgPSBwYXlsb2FkOwogICAgc3RhdGUuaXNMb2dnZWRJbiA9IHRydWU7CiAgfSwKICBsb2dpbkZhaWx1cmU6IGZ1bmN0aW9uIGxvZ2luRmFpbHVyZShzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuaXNTdWJtaXR0aW5nID0gZmFsc2U7CiAgICBzdGF0ZS52YWxpZGF0aW9uRXJyb3JzID0gcGF5bG9hZDsKICB9LAogIGdldEN1cnJlbnRVc2VyU3RhcnQ6IGZ1bmN0aW9uIGdldEN1cnJlbnRVc2VyU3RhcnQoc3RhdGUpIHsKICAgIHN0YXRlLmlzTG9hZGluZyA9IHRydWU7CiAgfSwKICBnZXRDdXJyZW50VXNlclN1Y2Nlc3M6IGZ1bmN0aW9uIGdldEN1cnJlbnRVc2VyU3VjY2VzcyhzdGF0ZSwgcGF5bG9hZCkgewogICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2UsIHN0YXRlLmN1cnJlbnRVc2VyID0gcGF5bG9hZCwgc3RhdGUuaXNMb2dnZWRJbiA9IHRydWU7CiAgfSwKICBnZXRDdXJyZW50VXNlckZhaWx1cmU6IGZ1bmN0aW9uIGdldEN1cnJlbnRVc2VyRmFpbHVyZShzdGF0ZSkgewogICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2UsIHN0YXRlLmlzTG9nZ2VkSW4gPSBmYWxzZSwgc3RhdGUuY3VycmVudFVzZXIgPSBudWxsOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKGNvbnRleHQsIGNyZWRlbnRpYWxzKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgY29udGV4dC5jb21taXQoJ3JlZ2lzdGVyU3RhcnQnKTsKICAgICAgYXV0aEFwaS5yZWdpc3RlcihjcmVkZW50aWFscykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb250ZXh0LmNvbW1pdCgncmVnaXN0ZXJTdWNjZXNzJywgcmVzcG9uc2UuZGF0YS51c2VyKTsKICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oImFjY2Vzc1Rva2VuIiwgcmVzcG9uc2UuZGF0YS51c2VyLnRva2VuKTsKICAgICAgICByZXNvbHZlKHJlc3BvbnNlLmRhdGEudXNlcik7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBjb250ZXh0LmNvbW1pdCgncmVnaXN0ZXJGYWlsdXJlJywgcmVzdWx0LnJlc3BvbnNlLmRhdGEuZXJyb3JzKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihjb250ZXh0LCBjcmVkZW50aWFscykgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIGNvbnRleHQuY29tbWl0KCdsb2dpblN0YXJ0Jyk7CiAgICAgIGF1dGhBcGkubG9naW4oY3JlZGVudGlhbHMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29udGV4dC5jb21taXQoJ2xvZ2luU3VjY2VzcycsIHJlc3BvbnNlLmRhdGEudXNlcik7CiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJhY2Nlc3NUb2tlbiIsIHJlc3BvbnNlLmRhdGEudXNlci50b2tlbik7CiAgICAgICAgcmVzb2x2ZShyZXNwb25zZS5kYXRhLnVzZXIpOwogICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgY29udGV4dC5jb21taXQoJ2xvZ2luRmFpbHVyZScsIHJlc3VsdC5yZXNwb25zZS5kYXRhLmVycm9ycyk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBnZXRDdXJyZW50VXNlcjogZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXIoY29udGV4dCkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uICgpIHsKICAgICAgY29udGV4dC5jb21taXQoJ2dldEN1cnJlbnRVc2VyU3RhcnQnKTsKICAgICAgYXV0aEFwaS5nZXRDdXJyZW50VXNlcigpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29udGV4dC5jb21taXQoJ2dldEN1cnJlbnRVc2VyU3VjY2VzcycsIHJlc3BvbnNlLmRhdGEudXNlcik7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnZ2V0Q3VycmVudFVzZXJGYWlsdXJlJywgcmVzdWx0LnJlc3BvbnNlLmRhdGEuZXJyb3JzKTsKICAgICAgfSk7CiAgICB9KTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBnZXR0ZXJzOiBnZXR0ZXJzCn07"},{"version":3,"sources":["/Users/sagintayevv/Desktop/My Course/vue-git/medium-clone/src/store/modules/auth.js"],"names":["authApi","state","isSubmitting","isLoading","currentUser","validationErrors","isLoggedIn","getters","Boolean","isAnonymus","mutations","registerStart","registerSuccess","payload","registerFailure","loginStart","loginSuccess","loginFailure","getCurrentUserStart","getCurrentUserSuccess","getCurrentUserFailure","actions","register","context","credentials","Promise","resolve","commit","then","response","data","user","window","localStorage","setItem","token","result","errors","login","getCurrentUser"],"mappings":"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","sourcesContent":["\nimport authApi from '@/api/auth'\n\nconst state = {\n    isSubmitting: false,\n    isLoading: false,\n    currentUser: null,\n    validationErrors: null,\n    isLoggedIn: null\n}\n\nconst getters = {\n    currentUser: state => {\n        return state.currentUser\n    },\n    isLoggedIn: state => {\n        return Boolean(state.isLoggedIn)\n    },\n    isAnonymus: state => {\n        return state.isLoggedIn == false\n    }\n}\n\nconst mutations = {\n    registerStart(state){\n        state.isSubmitting = true\n        state.validationErrors = null\n    },\n    registerSuccess(state, payload){\n        state.isSubmitting = false\n        state.currentUser = payload\n    },\n    registerFailure(state,payload){\n        state.isSubmitting = false\n        state.validationErrors = payload\n    },\n    loginStart(state){\n        state.isSubmitting = true\n        state.validationErrors = null\n    },\n    loginSuccess(state, payload){\n        state.isSubmitting = false\n        state.currentUser = payload\n        state.isLoggedIn = true\n    },\n    loginFailure(state,payload){\n        state.isSubmitting = false\n        state.validationErrors = payload\n    },\n    getCurrentUserStart(state){\n        state.isLoading = true\n    },\n    getCurrentUserSuccess(state, payload){\n        state.isLoading = false,\n        state.currentUser = payload,\n        state.isLoggedIn = true\n    },\n    getCurrentUserFailure(state){\n        state.isLoading = false,\n        state.isLoggedIn = false,\n        state.currentUser = null\n    }\n}\n\nconst actions = {\n    register(context,credentials) {\n        return new Promise (resolve =>{\n            context.commit('registerStart')\n            authApi\n            .register(credentials)\n            .then(response => {\n                context.commit('registerSuccess',response.data.user)\n                window.localStorage.setItem(\"accessToken\" ,response.data.user.token)\n                resolve(response.data.user)\n            })\n            .catch(result => {\n                context.commit('registerFailure', result.response.data.errors)\n            })\n        })\n    },\n\n    login(context,credentials) {\n        return new Promise (resolve =>{\n            context.commit('loginStart')\n            authApi\n            .login(credentials)\n            .then(response => {\n                context.commit('loginSuccess',response.data.user)\n                window.localStorage.setItem(\"accessToken\" ,response.data.user.token)\n                resolve(response.data.user)\n            })\n            .catch(result => {\n                context.commit('loginFailure', result.response.data.errors)\n            })\n        })\n    },\n    \n    getCurrentUser(context) {\n        return new Promise (() => {\n            context.commit('getCurrentUserStart')\n            authApi\n            .getCurrentUser()\n            .then(response => {\n                context.commit('getCurrentUserSuccess',response.data.user)\n            })\n            .catch(result => {\n                context.commit('getCurrentUserFailure', result.response.data.errors)\n            })\n        })\n    }\n}\n\nexport default {\n    state,\n    mutations,\n    actions,\n    getters\n}"]}]}